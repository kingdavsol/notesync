# NoteSync - EAS Build Instructions

## Project Configured ✅

Your EAS project has been initialized with:
- **Project ID:** 0c716fbd-948a-4011-af7f-2c08fcfe1c99
- **Package:** app.gg9.notesync
- **Expo SDK:** 50 (compatible with React Native 0.73.6)

## Files Created

1. ✅ `eas.json` - Build configuration (development, preview, production profiles)
2. ✅ `app.json` - Updated with project ID and proper Android config
3. ✅ All native code generated by `expo prebuild`

## Build the APK (2 Options)

### Option 1: Via Expo Website (Easiest)
1. Go to https://expo.dev/accounts/kingsol/projects/notesync
2. Click "Builds" in the left sidebar
3. Click "Create a build"
4. Select:
   - Platform: **Android**
   - Profile: **preview** (generates APK, not AAB)
5. Click "Build"
6. Wait ~5-10 minutes
7. Download APK from the builds page

### Option 2: Via CLI (From This Server)
```bash
cd /var/www/notesync/mobile

# Login to Expo (interactive)
eas login
# Enter your Expo credentials

# Build for Android (preview = APK for testing)
eas build --platform android --profile preview

# Wait for build to complete (~5-10 min)
# Download URL will be provided when complete
```

## Build Profiles Explained

- **development**: Dev build with debugging tools, requires Expo Go or dev client
- **preview**: Production-like APK for testing (use this for initial testing)
- **production**: Optimized AAB for Google Play Store submission

## After Build Completes

### Download APK
```bash
# EAS will provide a URL like:
# https://expo.dev/artifacts/eas/[artifact-id].apk

# Download to your device or use adb:
wget [artifact-url] -O notesync.apk
adb install notesync.apk
```

### Test Checklist
- [ ] App installs successfully
- [ ] Registration/login works
- [ ] Email verification flow
- [ ] Create/edit notes
- [ ] Offline mode (enable airplane mode, create notes)
- [ ] Sync works when back online
- [ ] Folders and tags
- [ ] Rich text formatting

## Troubleshooting

### Build fails with "Invalid credentials"
```bash
eas logout
eas login
# Re-enter credentials
eas build --platform android --profile preview
```

### Build fails with "Unsupported dependencies"
```bash
# Run Expo doctor
npx expo-doctor

# Fix any warnings, then rebuild
eas build --platform android --profile preview
```

### APK crashes on startup
Check build logs at: https://expo.dev/accounts/kingsol/projects/notesync/builds

Common fixes:
1. Ensure all native modules are in app.json plugins array
2. Check that package.json versions are compatible
3. Review crash logs in Expo dashboard

## View Build Status

**Web Dashboard:**
https://expo.dev/accounts/kingsol/projects/notesync/builds

**CLI:**
```bash
eas build:list
# Shows all builds with status and download links
```

## Next Steps After Successful Build

1. **Test thoroughly** on physical Android device
2. **Add voice transcription** back (see main handoff doc)
3. **Generate production build** when ready:
   ```bash
   eas build --platform android --profile production
   ```
4. **Submit to Play Store**:
   ```bash
   eas submit --platform android
   ```

## Support

- Expo Discord: https://chat.expo.dev/
- EAS Build Docs: https://docs.expo.dev/build/introduction/
- Project Dashboard: https://expo.dev/accounts/kingsol/projects/notesync

---

**Estimated Time to Working APK:** 5-10 minutes (cloud build time)
**No local build dependencies required** ✅
