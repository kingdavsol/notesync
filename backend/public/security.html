<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Security â€” NoteSync</title>
<style>
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #f8f9fa; color: #1a1a1a; }
  header { background: #2dbe60; padding: 20px 24px; display: flex; align-items: center; gap: 10px; }
  .logo { width: 36px; height: 36px; background: rgba(255,255,255,0.2); border-radius: 10px; display: flex; align-items: center; justify-content: center; }
  .logo svg { width: 20px; height: 20px; fill: #fff; }
  .header-text h1 { color: #fff; font-size: 17px; font-weight: 700; }
  .header-text p { color: rgba(255,255,255,0.8); font-size: 13px; }
  .hero { background: linear-gradient(135deg, #2dbe60 0%, #1e9e4d 100%); padding: 28px 24px 44px; }
  .hero h2 { color: #fff; font-size: 28px; font-weight: 700; margin-bottom: 8px; }
  .hero p { color: rgba(255,255,255,0.88); font-size: 14px; line-height: 1.6; max-width: 560px; }
  nav { background: #fff; border-bottom: 1px solid #ececec; padding: 0 24px; display: flex; gap: 0; overflow-x: auto; }
  nav a { color: #555; text-decoration: none; font-size: 13px; font-weight: 500; padding: 14px 16px; white-space: nowrap; border-bottom: 2px solid transparent; }
  nav a:hover { color: #2dbe60; }
  nav a.active { color: #2dbe60; border-bottom-color: #2dbe60; }
  main { max-width: 760px; margin: 0 auto; padding: 28px 16px 60px; }
  .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 14px; margin-bottom: 20px; }
  @media (max-width: 540px) { .grid { grid-template-columns: 1fr; } }
  .feature { background: #fff; border-radius: 14px; padding: 20px; box-shadow: 0 1px 4px rgba(0,0,0,0.06); }
  .feature-icon { width: 42px; height: 42px; background: rgba(45,190,96,0.1); border-radius: 10px; display: flex; align-items: center; justify-content: center; margin-bottom: 12px; }
  .feature-icon svg { width: 22px; height: 22px; stroke: #2dbe60; fill: none; stroke-width: 2; stroke-linecap: round; stroke-linejoin: round; }
  .feature h3 { font-size: 15px; font-weight: 700; color: #1a1a1a; margin-bottom: 6px; }
  .feature p { font-size: 13px; color: #666; line-height: 1.65; }
  .feature .detail { font-size: 12px; color: #999; margin-top: 6px; font-style: italic; }
  .card { background: #fff; border-radius: 14px; padding: 24px; margin-bottom: 16px; box-shadow: 0 1px 4px rgba(0,0,0,0.06); }
  h2 { font-size: 17px; font-weight: 700; color: #1a1a1a; margin-bottom: 14px; display: flex; align-items: center; gap: 8px; }
  h2::before { content: ''; width: 4px; height: 18px; background: #2dbe60; border-radius: 2px; display: inline-block; flex-shrink: 0; }
  h3 { font-size: 14px; font-weight: 700; color: #1a1a1a; margin: 18px 0 8px; }
  h3:first-child { margin-top: 0; }
  p { font-size: 14px; color: #555; line-height: 1.8; margin-bottom: 10px; }
  p:last-child { margin-bottom: 0; }
  ul, ol { margin-left: 20px; margin-bottom: 10px; }
  li { font-size: 14px; color: #555; line-height: 1.8; margin-bottom: 5px; }
  strong { color: #1a1a1a; }
  a { color: #2dbe60; }
  code { background: #f4f4f4; border-radius: 4px; padding: 2px 7px; font-size: 13px; font-family: 'Courier New', monospace; color: #1a1a1a; }
  .spec-row { display: flex; align-items: flex-start; gap: 16px; padding: 12px 0; border-bottom: 1px solid #f5f5f5; }
  .spec-row:last-child { border-bottom: none; padding-bottom: 0; }
  .spec-label { font-size: 13px; font-weight: 600; color: #1a1a1a; min-width: 180px; }
  .spec-value { font-size: 13px; color: #555; line-height: 1.6; }
  .disclosure { background: #f0fdf4; border: 1px solid #bbf7d0; border-radius: 14px; padding: 22px 24px; margin-top: 8px; }
  .disclosure h3 { color: #166534; font-size: 15px; margin-bottom: 8px; font-weight: 700; }
  .disclosure p { color: #166534; font-size: 14px; margin-bottom: 8px; }
  .disclosure p:last-child { margin-bottom: 0; }
  .disclosure a { color: #166534; font-weight: 600; }
  .warn-box { background: #fff8f0; border: 1px solid #fed7aa; border-radius: 10px; padding: 14px 16px; margin: 12px 0; }
  .warn-box p { color: #9a3412; font-size: 13px; margin: 0; }
  footer { text-align: center; padding: 32px 16px; color: #999; font-size: 13px; }
  footer a { color: #2dbe60; text-decoration: none; margin: 0 8px; }
</style>
</head>
<body>
<header>
  <div class="logo"><svg viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" fill="#fff"/></svg></div>
  <div class="header-text"><h1>NoteSync</h1><p>Security</p></div>
</header>
<nav>
  <a href="/help">Help & FAQ</a>
  <a href="/privacy">Privacy</a>
  <a href="/security" class="active">Security</a>
  <a href="/terms">Terms</a>
  <a href="/contact">Contact</a>
</nav>

<div class="hero">
  <h2>Security at NoteSync</h2>
  <p>Your notes may contain your most private thoughts, ideas, and sensitive information. We treat security as a core requirement, not an afterthought. Here's exactly how we protect your data.</p>
</div>

<main>

  <!-- Feature Grid -->
  <div class="grid">
    <div class="feature">
      <div class="feature-icon">
        <svg viewBox="0 0 24 24"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
      </div>
      <h3>TLS 1.2+ Encryption in Transit</h3>
      <p>All communication between the app and our servers is encrypted using TLS 1.2 or higher. Your notes never travel over unencrypted connections â€” all HTTP requests are automatically redirected to HTTPS.</p>
      <p class="detail">Certificates issued by Let's Encrypt with automatic renewal via Certbot.</p>
    </div>

    <div class="feature">
      <div class="feature-icon">
        <svg viewBox="0 0 24 24"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
      </div>
      <h3>bcrypt Password Hashing</h3>
      <p>Passwords are hashed using <strong>bcrypt with a cost factor of 12</strong> before being stored. bcrypt is deliberately slow and includes automatic salting, making it resistant to brute-force and rainbow table attacks.</p>
      <p class="detail">We cannot recover your password â€” if you forget it, you must reset it via email.</p>
    </div>

    <div class="feature">
      <div class="feature-icon">
        <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
      </div>
      <h3>Short-Lived JWT Sessions</h3>
      <p>Authentication uses JSON Web Tokens (JWT) signed with a server-side secret using HMAC-SHA256. Tokens have a short expiry window to minimize the impact of token theft. Tokens are stored only on your device.</p>
      <p class="detail">The JWT secret is stored in environment variables â€” never in source code.</p>
    </div>

    <div class="feature">
      <div class="feature-icon">
        <svg viewBox="0 0 24 24"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/></svg>
      </div>
      <h3>Rate Limiting</h3>
      <p>Login and registration endpoints are rate-limited to <strong>10 requests per 15 minutes per IP address</strong> to prevent brute-force and credential-stuffing attacks. API endpoints are limited to 100 requests per 15 minutes. Upload endpoints are capped at 20 per hour.</p>
    </div>

    <div class="feature">
      <div class="feature-icon">
        <svg viewBox="0 0 24 24"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>
      </div>
      <h3>Input Sanitization</h3>
      <p>All user input is sanitized server-side before processing to prevent Cross-Site Scripting (XSS) and injection attacks. All database queries use parameterized statements â€” no string interpolation of user data into SQL.</p>
    </div>

    <div class="feature">
      <div class="feature-icon">
        <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="3"/><path d="M19.07 4.93a10 10 0 0 1 0 14.14M4.93 4.93a10 10 0 0 0 0 14.14"/></svg>
      </div>
      <h3>HTTP Security Headers</h3>
      <p>Our API server uses Helmet.js to set strict HTTP security headers including <code>Content-Security-Policy</code>, <code>X-Frame-Options: DENY</code>, <code>X-Content-Type-Options: nosniff</code>, <code>Strict-Transport-Security</code>, and <code>Referrer-Policy</code>.</p>
    </div>

    <div class="feature">
      <div class="feature-icon">
        <svg viewBox="0 0 24 24"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/></svg>
      </div>
      <h3>CSRF Protection</h3>
      <p>State-changing API requests (create, update, delete) require a valid CSRF token in addition to JWT authentication, protecting against Cross-Site Request Forgery attacks from malicious websites.</p>
    </div>

    <div class="feature">
      <div class="feature-icon">
        <svg viewBox="0 0 24 24"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
      </div>
      <h3>Email Verification</h3>
      <p>New accounts require email verification before accessing the service. This prevents account registration with fake or stolen email addresses and reduces spam and abuse on the platform.</p>
    </div>
  </div>

  <!-- Technical Specifications -->
  <div class="card">
    <h2>Technical Security Specifications</h2>
    <div class="spec-row">
      <span class="spec-label">TLS Version</span>
      <span class="spec-value">TLS 1.2 minimum, TLS 1.3 preferred. SSLv3, TLS 1.0, and TLS 1.1 are disabled.</span>
    </div>
    <div class="spec-row">
      <span class="spec-label">Password Algorithm</span>
      <span class="spec-value">bcrypt, cost factor 12, with automatic unique salt per password.</span>
    </div>
    <div class="spec-row">
      <span class="spec-label">JWT Signing Algorithm</span>
      <span class="spec-value">HMAC-SHA256 (HS256). Tokens carry <code>id</code>, <code>email</code>, and <code>exp</code> claims only.</span>
    </div>
    <div class="spec-row">
      <span class="spec-label">Auth Rate Limit</span>
      <span class="spec-value">10 requests / 15-minute window per IP for <code>/auth/login</code> and <code>/auth/register</code>.</span>
    </div>
    <div class="spec-row">
      <span class="spec-label">General API Rate Limit</span>
      <span class="spec-value">100 requests / 15-minute window per IP for all other <code>/api/*</code> endpoints.</span>
    </div>
    <div class="spec-row">
      <span class="spec-label">SQL Injection Prevention</span>
      <span class="spec-value">Parameterized queries via node-postgres (pg library). No raw string interpolation.</span>
    </div>
    <div class="spec-row">
      <span class="spec-label">XSS Prevention</span>
      <span class="spec-value">Server-side input sanitization middleware. CSP headers block inline script execution from non-self origins.</span>
    </div>
    <div class="spec-row">
      <span class="spec-label">CORS Policy</span>
      <span class="spec-value">Strict allowlist of permitted origins. <code>Access-Control-Allow-Origin</code> is never set to wildcard (<code>*</code>) on authenticated endpoints.</span>
    </div>
    <div class="spec-row">
      <span class="spec-label">Request Body Limit</span>
      <span class="spec-value">50 MB maximum body size, enforced before parsing. Prevents memory exhaustion attacks.</span>
    </div>
    <div class="spec-row">
      <span class="spec-label">Directory Traversal</span>
      <span class="spec-value">Static file server blocks any path containing <code>..</code> sequences.</span>
    </div>
  </div>

  <!-- Infrastructure Security -->
  <div class="card">
    <h2>Infrastructure Security</h2>
    <h3>Server Environment</h3>
    <ul>
      <li>NoteSync runs on a <strong>dedicated VPS</strong> provided by Contabo GmbH, Frankfurt, Germany â€” not shared hosting. No other applications share the server's resources.</li>
      <li>The application runs as a <strong>non-root user</strong> managed by PM2 (process manager). If the application process is compromised, it cannot gain root privileges on the host system.</li>
      <li>The operating system is kept up to date with security patches. Automatic security updates are enabled.</li>
    </ul>

    <h3>SSH & Remote Access</h3>
    <ul>
      <li>SSH access is <strong>key-based authentication only</strong>. Password-based SSH is disabled (<code>PasswordAuthentication no</code> in <code>sshd_config</code>).</li>
      <li>SSH root login is restricted. Administrative access uses a dedicated user with sudo privileges.</li>
      <li>The default SSH port is changed from 22 to reduce automated brute-force scan noise.</li>
      <li>A firewall (UFW) blocks all inbound connections except HTTPS (443), HTTP (80 redirected to HTTPS), and SSH.</li>
    </ul>

    <h3>Database Security</h3>
    <ul>
      <li>The <strong>PostgreSQL database is not exposed to the public internet</strong>. It only accepts connections from localhost (127.0.0.1). There is no external database port open.</li>
      <li>The database uses a dedicated application user with minimum required privileges (SELECT, INSERT, UPDATE, DELETE on specific tables only â€” no SUPERUSER, CREATEDB, or CREATEROLE).</li>
      <li>Database credentials are stored as environment variables in a <code>.env</code> file with restricted file permissions, not in source code.</li>
      <li>Database backups are created daily and stored encrypted.</li>
    </ul>

    <h3>Reverse Proxy & Network</h3>
    <ul>
      <li><strong>Nginx</strong> acts as a reverse proxy in front of the Node.js application. Nginx handles TLS termination, HTTP-to-HTTPS redirection, and security header enforcement.</li>
      <li>The Node.js application server binds to <code>127.0.0.1</code> only â€” not publicly accessible directly.</li>
      <li>Server tokens (Nginx version information) are suppressed to reduce information disclosure.</li>
    </ul>
  </div>

  <!-- Data Protection -->
  <div class="card">
    <h2>Data Protection Practices</h2>
    <h3>Secrets Management</h3>
    <ul>
      <li><strong>JWT secret key:</strong> Stored in environment variable (<code>JWT_SECRET</code>). Never committed to source control. Rotated periodically.</li>
      <li><strong>Database password:</strong> Stored in environment variable (<code>DB_PASSWORD</code>). Never appears in any log file or error message.</li>
      <li><strong>Groq API key:</strong> Stored in environment variable (<code>GROQ_API_KEY</code>). Used only server-side â€” never exposed to clients.</li>
      <li>All secrets are excluded from version control via <code>.gitignore</code>.</li>
    </ul>

    <h3>Audio & Voice Data</h3>
    <ul>
      <li>Voice recordings submitted for transcription are transmitted to our server over HTTPS.</li>
      <li>The audio is immediately forwarded to Groq's Whisper API without being written to disk.</li>
      <li>We do not store, log, or retain audio files at any stage. The audio exists only in server memory for the duration of the API call.</li>
      <li>If the Groq API call fails, the audio data is discarded â€” it is never retried using stored copies.</li>
    </ul>

    <h3>Note Content</h3>
    <ul>
      <li>Note content is stored in the PostgreSQL database, protected by the database access controls described above.</li>
      <li>Support staff and developers do not have access to your note content during normal operations. Accessing user notes would require deliberate action and leave audit trails.</li>
      <li>We do not read, scan, index for advertising, or analyze your note content for any purpose other than returning it to you.</li>
    </ul>

    <h3>Deleted Data</h3>
    <ul>
      <li>When you delete a note, it is immediately <strong>soft-deleted</strong> (flagged as deleted and removed from your view).</li>
      <li>Soft-deleted notes are permanently purged from the database and all backups within <strong>90 days</strong>.</li>
      <li>When you delete your account, all associated data (notes, folders, tags, images, device records) is queued for permanent deletion and completed within 90 days.</li>
    </ul>
  </div>

  <!-- Backup & Recovery -->
  <div class="card">
    <h2>Backup & Disaster Recovery</h2>
    <ul>
      <li><strong>Daily automated backups:</strong> The PostgreSQL database is backed up daily using <code>pg_dump</code>. Backups are compressed and stored with restricted access.</li>
      <li><strong>Backup retention:</strong> Daily backups are retained for 14 days. Weekly backups are retained for 3 months.</li>
      <li><strong>Backup testing:</strong> Backups are periodically restored to a test environment to verify integrity and recoverability.</li>
      <li><strong>Offline-first architecture:</strong> NoteSync stores a complete copy of your notes locally on your device. Even in the event of server downtime, you retain access to all your notes. Your device is itself a backup.</li>
      <li><strong>Recovery time objective:</strong> In the event of server failure, we target restoration of service within 4 hours using backups and infrastructure snapshots.</li>
    </ul>
  </div>

  <!-- Incident Response -->
  <div class="card">
    <h2>Security Incident Response</h2>
    <p>In the event of a confirmed security incident affecting user data, we follow this response procedure:</p>
    <ol>
      <li><strong>Contain:</strong> Immediately isolate the affected system and revoke potentially compromised credentials.</li>
      <li><strong>Assess:</strong> Determine the scope and nature of the breach â€” which data was affected, which users are impacted.</li>
      <li><strong>Notify:</strong> If personal data was exposed, affected users will be notified via email within <strong>72 hours</strong> of confirming the breach, as required by GDPR Article 33. The notification will describe what happened, what data was exposed, and what steps you should take.</li>
      <li><strong>Remediate:</strong> Fix the root cause vulnerability, force password resets for affected accounts if credentials may be compromised, rotate affected secrets.</li>
      <li><strong>Post-mortem:</strong> Document what happened, why it happened, and what changes were made to prevent recurrence.</li>
    </ol>
    <p>We will never attempt to conceal a data breach or delay notification beyond legal requirements.</p>
  </div>

  <!-- What We Don't Do -->
  <div class="card">
    <h2>What We Don't Do</h2>
    <ul>
      <li>We do <strong>not</strong> store plaintext passwords at any point.</li>
      <li>We do <strong>not</strong> log your note content in server logs or error reports.</li>
      <li>We do <strong>not</strong> retain voice recordings after transcription is complete.</li>
      <li>We do <strong>not</strong> expose your database to the public internet.</li>
      <li>We do <strong>not</strong> use your account for testing or development â€” we use separate test accounts.</li>
      <li>We do <strong>not</strong> share your credentials, API tokens, or secrets with third parties.</li>
      <li>We do <strong>not</strong> use third-party analytics or crash-reporting SDKs that could access your note content.</li>
      <li>We do <strong>not</strong> permit our hosting provider (Contabo) to access application data â€” they provide only raw server resources.</li>
    </ul>
  </div>

  <!-- Responsible Disclosure -->
  <div class="disclosure">
    <h3>ðŸ”’ Responsible Disclosure Program</h3>
    <p>Found a security vulnerability in NoteSync? We want to know. Please report it to us before disclosing publicly so we can fix it and protect our users.</p>
    <p><strong>Report to:</strong> <a href="mailto:security@notesync.app">security@notesync.app</a></p>
    <p><strong>What to include:</strong> A clear description of the vulnerability, steps to reproduce it, your assessment of the impact, and any proof-of-concept code if available.</p>
    <p><strong>What to expect:</strong> We will acknowledge receipt within <strong>48 hours</strong>. We will investigate and keep you updated on progress. We aim to resolve confirmed critical vulnerabilities within 7 days and high-severity within 30 days.</p>
    <p><strong>Safe Harbor:</strong> We will not take legal action against researchers who follow responsible disclosure principles â€” who report privately, avoid accessing user data beyond what is necessary to demonstrate the vulnerability, and give us reasonable time to fix the issue before publishing.</p>
    <p><strong>Scope:</strong> The NoteSync backend API (notesync.9gg.app), mobile app authentication flows, and data storage mechanisms. Out of scope: social engineering, physical attacks, denial of service testing, and third-party services (Groq, Contabo).</p>
  </div>

</main>

<footer>
  <p>Â© 2026 NoteSync. All rights reserved.</p>
  <p style="margin-top:8px;">
    <a href="/help">Help & FAQ</a>
    <a href="/privacy">Privacy Policy</a>
    <a href="/terms">Terms of Service</a>
    <a href="/contact">Contact</a>
  </p>
</footer>
</body>
</html>
